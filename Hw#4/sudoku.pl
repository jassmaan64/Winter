#Name: Jaspreet Singh
#Student id: 919250077

test :- test0, nl, test0a, nl, test0b, nl, test0c.

test0 :-
    L = [[9,6,3,1,7,4,2,5,8],
        [1,7,8,3,2,5,6,4,9],
        [2,5,4,6,8,9,7,3,1],
        [8,2,1,4,3,7,5,9,6],
        [4,9,6,8,5,2,3,1,7],
        [7,3,5,9,6,1,8,2,4],
        [5,8,9,7,1,3,4,6,2],
        [3,1,7,2,4,6,9,8,5],
        [6,4,2,5,9,8,1,7,3]],
    sudoku(L),
    printsudoku(L).

test0a :-
    L = [[9,_,3,1,7,4,2,5,8],
        [_,7,_,3,2,5,6,4,9],
        [2,5,4,6,8,9,7,3,1],
        [8,2,1,4,3,7,5,_,6],
        [4,9,6,8,5,2,3,1,7],
        [7,3,_,9,6,1,8,2,4],
        [5,8,9,7,1,3,4,6,2],
        [3,1,7,2,4,6,9,8,5],
        [6,4,2,5,9,8,1,7,3]],
    sudoku(L),
    printsudoku(L).

test0b :-
    L = [[9,_,3,1,7,4,2,5,_],
        [_,7,_,3,2,5,6,4,9],
        [2,5,4,6,_,9,_,3,1],
        [_,2,1,4,3,_,5,_,6],
        [4,9,_,8,_,2,3,1,_],
        [_,3,_,9,6,_,8,2,_],
        [5,8,9,7,1,3,4,6,2],
        [_,1,7,2,_,6,_,8,5],
        [6,4,2,5,9,8,1,7,3]],
    sudoku(L),
    printsudoku(L).

test0c :-
    L = [[_,9,3,1,7,4,2,5,8],
        [_,7,_,3,2,5,6,4,9],
        [2,5,4,6,8,9,7,3,1],
        [8,2,1,4,3,7,5,_,6],
        [4,9,6,8,5,2,3,1,7],
        [7,3,_,9,6,1,8,2,4],
        [5,8,9,7,1,3,4,6,2],
        [3,1,7,2,4,6,9,8,5],
        [6,4,2,5,9,8,1,7,3]],
    sudoku(L),
    printsudoku(L).

printsudoku([]).
printsudoku([H|T]) :- write(H),nl, printsudoku(T).

sudoku(L) :-
    L = [[X11, X12, X13, X14, X15, X16, X17, X18, X19],
        [X21, X22, X23, X24, X25, X26, X27, X28, X29],
        [X31, X32, X33, X34, X35, X36, X37, X38, X39],
        [X41, X42, X43, X44, X45, X46, X47, X48, X49],
        [X51, X52, X53, X54, X55, X56, X57, X58, X59],
        [X61, X62, X63, X64, X65, X66, X67, X68, X69],
        [X71, X72, X73, X74, X75, X76, X77, X78, X79],
        [X81, X82, X83, X84, X85, X86, X87, X88, X89],
        [X91, X92, X93, X94, X95, X96, X97, X98, X99]],

worthy([X11, X12, X13, X14, X15, X16, X17, X18, X19]),
worthy([X21, X22, X23, X24, X25, X26, X27, X28, X29]),
worthy([X31, X32, X33, X34, X35, X36, X37, X38, X39]),
worthy([X41, X42, X43, X44, X45, X46, X47, X48, X49]),
worthy([X51, X52, X53, X54, X55, X56, X57, X58, X59]),
worthy([X61, X62, X63, X64, X65, X66, X67, X68, X69]),
worthy([X71, X72, X73, X74, X75, X76, X77, X78, X79]),
worthy([X81, X82, X83, X84, X85, X86, X87, X88, X89]),
worthy([X91, X92, X93, X94, X95, X96, X97, X98, X99]),

diff([X11, X21, X31, X41, X51, X61, X71, X81, X91]),
diff([X12, X22, X32, X42, X52, X62, X72, X82, X92]),
diff([X13, X23, X33, X43, X53, X63, X73, X83, X93]),
diff([X14, X24, X34, X44, X54, X64, X74, X84, X94]),
diff([X15, X25, X35, X45, X55, X65, X75, X85, X95]),
diff([X16, X26, X36, X46, X56, X66, X76, X86, X96]),
diff([X17, X27, X37, X47, X57, X67, X77, X87, X97]),
diff([X18, X28, X38, X48, X58, X68, X78, X88, X98]),
diff([X19, X29, X39, X49, X59, X69, X79, X89, X99]),

diff([X11, X12, X13, X21, X22, X23, X31, X32, X33]),
diff([X14, X15, X16, X24, X25, X26, X34, X35, X36]),
diff([X17, X18, X19, X27, X28, X29, X37, X38, X39]),
diff([X41, X42, X43, X51, X52, X53, X61, X62, X63]),
diff([X44, X45, X46, X54, X55, X56, X64, X65, X66]),
diff([X47, X48, X49, X57, X58, X59, X67, X68, X69]),
diff([X71, X72, X73, X81, X82, X83, X91, X92, X93]),
diff([X74, X75, X76, X84, X85, X86, X94, X95, X96]),
diff([X77, X78, X79, X87, X88, X89, X97, X98, X99]).

worthy(L) :- valid(L), diff(L).

valid([H]) :- validval(H).
valid([H|T]) :- validval(H),valid(T).

validval(1).
validval(2).
validval(3).
validval(4).
validval(5).
validval(6).
validval(7).
validval(8).
validval(9).

diff([_]).
diff([H|T]) :- not(member(H, T)), diff(T).

member(X,[X|_]).
member(X, [_|T]) :- member(X, T).